(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[986],{7383:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/club/newActivity",function(){return i(5280)}])},5280:function(e,t,i){"use strict";i.r(t);var a=i(5893),s=i(7294),l=i(2148),n=i(381),r=i.n(n),c=i(3302),o=i(7536),m=i(2132),d=i(3290),u=i(5785),x=i(2629),_=i(8946);let h={ACTIVITY:"普通活動",WEBSITE:"網頁"},j="border-4 border-themeColor rounded-lg h-15 p-2 ontline-none";t.default=()=>{let{register:e,handleSubmit:t,setValue:i,formState:{errors:n},watch:p}=(0,o.cI)({defaultValues:{title:"",cover_image_file:void 0,sDate:r()(new Date).format("YYYY-MM-DD"),sTime:r()(new Date).format("HH:MM"),eDate:r()(new Date).format("YYYY-MM-DD"),eTime:r()(new Date).format("HH:MM"),location:"",link:"",type:"ACTIVITY",introduction:"",add_relate_image:[]}}),[f,T]=(0,s.useState)();(0,s.useEffect)(()=>{let e=(0,_.p2)({urlParamName:"club_num"});T(e)},[]);let onSubmit=async e=>{await (0,u.ym)(e,f)},g=p("type");return(0,a.jsxs)(m.Mx,{title:"新活動-".concat(p("title")),children:[(0,a.jsx)(c.Z,{returnLocation:"./clubInfo?club_num=".concat(f)}),(0,a.jsxs)("form",{className:"flex flex-col gap-5",onSubmit:t(onSubmit),children:[(0,a.jsx)("input",{className:"".concat(j," text-3xl mx-auto"),placeholder:"活動名稱",...e("title",{required:"請輸入活動標題"})}),(0,a.jsx)("div",{className:"text-alert text-center mx-auto mb-3",children:n.title&&n.title.message}),(0,a.jsx)(d.w7,{base:{regName:"cover_image_file",isRequired:!0},register:e,setValue:i,errText:"請輸入封面圖片",thisErr:n.cover_image_file}),(0,a.jsx)("div",{className:"text-alert text-center mx-auto mb-3",children:n.cover_image_file&&n.cover_image_file.message}),(0,a.jsxs)(m.iG,{gridNum:"WEBSITE"==g?1:2,children:[(0,a.jsxs)(m.b0,{title:"基本訊息",children:[(0,a.jsx)(d.c6,{title:"類型",children:(0,a.jsx)("select",{className:j,...e("type"),children:Object.keys(h).map(e=>(0,a.jsx)("option",{value:e,children:h[e]}))})}),(0,a.jsxs)(d.c6,{title:"開始",children:[(0,a.jsx)("input",{className:j,type:"date",...e("sDate")}),(0,a.jsx)("input",{className:j,type:"time",...e("sTime")})]}),(0,a.jsxs)(d.c6,{title:"結束",children:[(0,a.jsx)("input",{className:j,type:"date",...e("eDate")}),(0,a.jsx)("input",{className:j,type:"time",...e("eTime")})]}),(0,a.jsxs)(d.c6,{title:"地點",condition:"ACTIVITY"==g,children:[(0,a.jsx)("input",{className:j,...e("location",{required:"ACTIVITY"==g&&"請輸入地點"})}),(0,a.jsx)("div",{className:"text-alert",children:n.location&&n.location.message})]}),(0,a.jsxs)(d.c6,{title:"鏈接",condition:"WEBSITE"==g,children:[(0,a.jsx)("input",{className:j,type:"url",...e("link",{required:"WEBSITE"==g&&"需要提供活動鏈接哦！"})}),(0,a.jsx)("div",{className:"text-alert",children:n.link&&n.link.message})]})]}),(0,a.jsxs)(m.b0,{title:"簡介",condition:"ACTIVITY"==g,children:[(0,a.jsx)("textarea",{className:"text-lg block w-full h-80 border-4 border-themeColor rounded-lg p-2 resize-none min-h-32 outline-none",placeholder:"請在此輸入社團簡介",...e("introduction",{required:"ACTIVITY"==g&&"你需要向大家介紹活動的内容哦！"})}),(0,a.jsx)("div",{className:"text-alert",children:n.introduction&&n.introduction.message})]})]}),(0,a.jsx)(m.b0,{title:"相關圖片",condition:"ACTIVITY"==g,children:(0,a.jsx)(d.lS,{base:{regName:"add_relate_image",isRequired:!1,numLimit:5},register:e,imgList:p("add_relate_image"),setValue:i,errText:"請輸入相關圖片",thisErr:n.add_relate_image})}),(0,a.jsx)(x.b,{textContent:"上傳",Icon:l.Z})]})]})}}},function(e){e.O(0,[885,206,536,876,753,774,888,179],function(){return e(e.s=7383)}),_N_E=e.O()}]);