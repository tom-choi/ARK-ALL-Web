(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[516],{1186:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/club/activityDetail",function(){return r(3908)}])},4505:function(e,t,r){"use strict";r.d(t,{Z:function(){return Footer}});var l=r(5893),a=r(1664),n=r.n(a),i=r(5675),o=r.n(i);r(7294);var s=r(961),c=r(7421),d=r(1163);function Footer(){let e=(0,d.useRouter)(),navigateToPage=t=>{e.push(t)},{t}=(0,c.$G)();return(0,l.jsx)("div",{className:"relative",children:(0,l.jsxs)(s.Z,{children:[(0,l.jsxs)("div",{className:"grid max-w-screen-xl grid-cols-1 gap-10 pt-10 mx-auto mt-5 border-t border-gray-100 dark:border-trueGray-700 lg:grid-cols-5",children:[(0,l.jsxs)("div",{className:"lg:col-span-2",children:[(0,l.jsxs)("div",{children:[" ",(0,l.jsx)(n(),{href:"/",children:(0,l.jsxs)("span",{className:"flex items-center space-x-2 text-2xl font-medium text-indigo-500 dark:text-gray-100",children:[(0,l.jsx)("span",{children:(0,l.jsx)(o(),{src:"/img/logo.png",alt:"N",width:"32",height:"32",className:"w-8 rounded-md"})}),(0,l.jsx)("span",{className:"text-themeColor font-bold",children:"ARK ALL"})]})})]}),(0,l.jsx)("div",{className:"max-w-md mt-4 text-gray-500 dark:text-gray-400"})]}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"flex flex-wrap w-full -mt-2 -ml-3 lg:ml-0",children:["Tutorial","QA","User_Agreement","About_us"].map((e,r)=>(0,l.jsx)(n(),{href:"/",className:"w-full px-4 py-2 text-gray-500 rounded-md dark:text-gray-300 hover:text-themeColor hover:bg-themeColorUltraLight focus:text-themeColor focus:bg-themeColorUltraLight focus:outline-none dark:hover:text-themeColor dark:hover:bg-gray-800 dark:focus:bg-gray-800",onClick:()=>navigateToPage("/"+e.toLowerCase()),children:t(e)},r))})}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"flex flex-wrap w-full -mt-2 -ml-3 lg:ml-0",children:["Terms","Privacy","Legal"].map((e,r)=>(0,l.jsx)(n(),{href:"/",className:"w-full px-4 py-2 text-gray-500 rounded-md dark:text-gray-300 hover:text-themeColor hover:bg-themeColorUltraLight focus:text-indigo-500 focus:bg-themeColorUltraLight focus:outline-none dark:hover:text-themeColor dark:hover:bg-gray-800 dark:focus:bg-trueGray-700",onClick:()=>navigateToPage("/"+e.toLowerCase()),children:t(e)},r))})}),(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("div",{children:t("Follow us")}),(0,l.jsxs)("div",{className:"flex mt-5 space-x-5 text-gray-400 dark:text-gray-500",children:[(0,l.jsxs)("a",{className:"hover:opacity-50",href:"https://twitter.com",target:"_blank",rel:"noopener",children:[(0,l.jsx)("span",{className:"sr-only",children:"Twitter"}),(0,l.jsx)(Twitter,{})]}),(0,l.jsxs)("a",{className:"hover:opacity-50",href:"https://facebook.com",target:"_blank",rel:"noopener",children:[(0,l.jsx)("span",{className:"sr-only",children:"Facebook"}),(0,l.jsx)(Facebook,{})]}),(0,l.jsxs)("a",{className:"hover:opacity-50",href:"https://instagram.com",target:"_blank",rel:"noopener",children:[(0,l.jsx)("span",{className:"sr-only",children:"Instagram"}),(0,l.jsx)(Instagram,{})]}),(0,l.jsxs)("a",{className:"hover:opacity-50",href:"https://github.com/UM-ARK",target:"_blank",rel:"noopener",children:[(0,l.jsx)("span",{className:"sr-only",children:"Github"}),(0,l.jsx)(Github,{})]})]})]})]}),(0,l.jsxs)("div",{className:"my-10 text-sm text-center text-gray-600 dark:text-gray-400",children:["Copyright \xa9 ",new Date().getFullYear(),". Made with ♥ by"," ",(0,l.jsx)("a",{className:"hover:opacity-50",href:"https://github.com/UM-ARK",target:"_blank",rel:"noopener",children:"ARK All."})," "]})]})})}let Twitter=e=>{let{size:t=24}=e;return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",children:(0,l.jsx)("path",{d:"M24 4.37a9.6 9.6 0 0 1-2.83.8 5.04 5.04 0 0 0 2.17-2.8c-.95.58-2 1-3.13 1.22A4.86 4.86 0 0 0 16.61 2a4.99 4.99 0 0 0-4.79 6.2A13.87 13.87 0 0 1 1.67 2.92 5.12 5.12 0 0 0 3.2 9.67a4.82 4.82 0 0 1-2.23-.64v.07c0 2.44 1.7 4.48 3.95 4.95a4.84 4.84 0 0 1-2.22.08c.63 2.01 2.45 3.47 4.6 3.51A9.72 9.72 0 0 1 0 19.74 13.68 13.68 0 0 0 7.55 22c9.06 0 14-7.7 14-14.37v-.65c.96-.71 1.79-1.6 2.45-2.61z"})})},Facebook=e=>{let{size:t=24}=e;return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",children:(0,l.jsx)("path",{d:"M24 12.07C24 5.41 18.63 0 12 0S0 5.4 0 12.07C0 18.1 4.39 23.1 10.13 24v-8.44H7.08v-3.49h3.04V9.41c0-3.02 1.8-4.7 4.54-4.7 1.31 0 2.68.24 2.68.24v2.97h-1.5c-1.5 0-1.96.93-1.96 1.89v2.26h3.32l-.53 3.5h-2.8V24C19.62 23.1 24 18.1 24 12.07"})})},Instagram=e=>{let{size:t=24}=e;return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",children:(0,l.jsx)("path",{d:"M16.98 0a6.9 6.9 0 0 1 5.08 1.98A6.94 6.94 0 0 1 24 7.02v9.96c0 2.08-.68 3.87-1.98 5.13A7.14 7.14 0 0 1 16.94 24H7.06a7.06 7.06 0 0 1-5.03-1.89A6.96 6.96 0 0 1 0 16.94V7.02C0 2.8 2.8 0 7.02 0h9.96zm.05 2.23H7.06c-1.45 0-2.7.43-3.53 1.25a4.82 4.82 0 0 0-1.3 3.54v9.92c0 1.5.43 2.7 1.3 3.58a5 5 0 0 0 3.53 1.25h9.88a5 5 0 0 0 3.53-1.25 4.73 4.73 0 0 0 1.4-3.54V7.02a5 5 0 0 0-1.3-3.49 4.82 4.82 0 0 0-3.54-1.3zM12 5.76c3.39 0 6.2 2.8 6.2 6.2a6.2 6.2 0 0 1-12.4 0 6.2 6.2 0 0 1 6.2-6.2zm0 2.22a3.99 3.99 0 0 0-3.97 3.97A3.99 3.99 0 0 0 12 15.92a3.99 3.99 0 0 0 3.97-3.97A3.99 3.99 0 0 0 12 7.98zm6.44-3.77a1.4 1.4 0 1 1 0 2.8 1.4 1.4 0 0 1 0-2.8z"})})},Github=e=>{let{size:t=24}=e;return(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 64 64",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,l.jsx)("path",{d:"M32 0a32.021 32.021 0 0 0-10.1 62.4c1.6.3 2.2-.7 2.2-1.5v-6c-8.9 1.9-10.8-3.8-10.8-3.8-1.5-3.7-3.6-4.7-3.6-4.7-2.9-2 .2-1.9.2-1.9 3.2.2 4.9 3.3 4.9 3.3 2.9 4.9 7.5 3.5 9.3 2.7a6.93 6.93 0 0 1 2-4.3c-7.1-.8-14.6-3.6-14.6-15.8a12.27 12.27 0 0 1 3.3-8.6 11.965 11.965 0 0 1 .3-8.5s2.7-.9 8.8 3.3a30.873 30.873 0 0 1 8-1.1 30.292 30.292 0 0 1 8 1.1c6.1-4.1 8.8-3.3 8.8-3.3a11.965 11.965 0 0 1 .3 8.5 12.1 12.1 0 0 1 3.3 8.6c0 12.3-7.5 15-14.6 15.8a7.746 7.746 0 0 1 2.2 5.9v8.8c0 .9.6 1.8 2.2 1.5A32.021 32.021 0 0 0 32 0z","data-name":"layer2",fill:"currentColor"}),(0,l.jsx)("path",{d:"M12.1 45.9c-.1.2-.3.2-.5.1s-.4-.3-.3-.5.3-.2.6-.1c.2.2.3.4.2.5zm1.3 1.5a.589.589 0 0 1-.8-.8.631.631 0 0 1 .7.1.494.494 0 0 1 .1.7zm1.3 1.8a.585.585 0 0 1-.7-.3.6.6 0 0 1 0-.8.585.585 0 0 1 .7.3c.2.3.2.7 0 .8zm1.7 1.8c-.2.2-.5.1-.8-.1-.3-.3-.4-.6-.2-.8a.619.619 0 0 1 .8.1.554.554 0 0 1 .2.8zm2.4 1c-.1.3-.4.4-.8.3s-.6-.4-.5-.7.4-.4.8-.3c.3.2.6.5.5.7zm2.6.2c0 .3-.3.5-.7.5s-.7-.2-.7-.5.3-.5.7-.5c.4.1.7.3.7.5zm2.4-.4q0 .45-.6.6a.691.691 0 0 1-.8-.3q0-.45.6-.6c.5-.1.8.1.8.3z","data-name":"layer1",fill:"currentColor"})]})}},867:function(e,t,r){"use strict";r.d(t,{r:function(){return AfterLoading}});let AfterLoading=e=>!0==e.isLoading?null:e.children},3908:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return activityDetail}});var l=r(5893),a=r(7294),n=r(2566);let i=a.forwardRef(function({title:e,titleId:t,...r},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"}))});var o=r(2148),s=r(381),c=r.n(s),d=r(129),h=r.n(d),m=r(7646),x=r(5785),u=r(1338),g=r(7536),v=r(8946),p=r(867),j=r(4505),f=r(3302),b=r(2629),w=r(2132),_=r(779),y=r(3290),activityDetail=()=>{var e,t;let[r,s]=(0,a.useState)(""),[d,N]=(0,a.useState)(null),[C,k]=(0,a.useState)(!0),{register:T,handleSubmit:E,setValue:A,formState:{errors:L},reset:M,watch:S}=(0,g.cI)();(0,a.useEffect)(()=>{let e=(0,v.p2)({urlParamName:"club_num"});s(e);let t=h().parse(window.location.search,{ignoreQueryPrefix:!0}).activity_id;console.log(t),(0,x.j7)(t,N).then(()=>{k(!1)})},[]),(0,a.useEffect)(()=>{if(!d)return;let{_id:e,relate_image_url:t,club_name:r,created_by:l,startdatetime:a,enddatetime:n,timestamp:i,state:o,...s}=null==d?void 0:d.content,c=(0,u.wG)(a),h=(0,u.wG)(n);M({...s,id:null==d?void 0:d.content._id,add_relate_image:[],del_relate_image:[],sDate:c.date,sTime:c.time,eDate:h.date,eTime:h.time})},[d]);let[z,I]=(0,a.useState)(!1),onSubmit=async e=>{try{return(0,x.yv)(e,r)}catch(e){return alert("上傳編輯失敗，請檢查網絡，或重試。"),null}};return(0,l.jsxs)(w.Mx,{title:"".concat(null==d?void 0:d.content.title,"- 詳情"),children:[(0,l.jsx)(f.Z,{returnLocation:"./clubInfo?club_num=".concat(r),returnStr:"社團訊息"}),(0,l.jsx)("form",{onSubmit:E(onSubmit),children:(0,l.jsxs)(p.r,{isLoading:C,children:[(0,l.jsxs)("div",{className:"flex flex-col items-center text-themeColor font-bold mb-5",children:[(0,l.jsxs)(w.Tp,{condition:!z,children:[(0,l.jsx)("h1",{className:"text-3xl",children:null==d?void 0:d.content.title}),(0,l.jsx)("input",{placeholder:"活動名稱",className:"text-3xl border-4 border-themeColor rounded-lg h-10 p-2",...T("title")})]}),(0,l.jsx)("h3",{className:"text-xl mb-3",children:"By "+(null==d?void 0:d.content.club_name)})]}),(0,l.jsxs)(w.Tp,{condition:!z,children:[(0,l.jsx)("div",{className:"flex flex-col w-96 h-96 items-center justify-center mx-auto drop-shadow-lg bg-themeColorUltraLight dark:bg-gray-700 rounded-lg min-h-24 hover:cursor-pointer hover:scale-[1.005] transition-all",style:{backgroundImage:"url(".concat(m.a0+(null==d?void 0:d.content.cover_image_url),")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),(0,l.jsx)(y.w7,{base:{regName:"cover_image_file",initialImgURL:m.a0+(null==d?void 0:d.content.cover_image_url)},register:T,setValue:A,errText:null===(e=L.cover_image_file)||void 0===e?void 0:e.message,thisErr:L.cover_image_file})]}),(0,l.jsxs)(b.S,{children:[(0,l.jsx)(b.b,{color:"bg-themeColor",onClickFunc:()=>{I(!z)},textContent:z?"取消編輯":"編輯",Icon:n.Z,type:"button"}),(0,l.jsx)(b.b,{color:"bg-alert",onClickFunc:()=>{(0,x.cC)(null==d?void 0:d.content._id,r,"確定刪除活動?")},textContent:"刪除活動",Icon:i,condition:z,type:"button"})]}),(0,l.jsxs)(w.iG,{gridNum:d&&(null==d?void 0:d.content.type)=="WEBSITE"?1:2,children:[(0,l.jsxs)(w.b0,{title:"基本訊息",children:[(0,l.jsx)(y.c6,{title:"開始",children:(0,l.jsxs)(w.Tp,{condition:!z,children:[(0,l.jsx)("p",{children:d&&c()(d.content.startdatetime).format("YYYY-MM-DD HH:mm")}),(0,l.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,l.jsx)("input",{type:"date",className:"border-4 border-themeColor rounded-lg h-10 p-2",...T("sDate")}),(0,l.jsx)("input",{type:"time",className:"border-4 border-themeColor rounded-lg h-10 p-2",...T("sTime")})]})]})}),(0,l.jsx)(y.c6,{title:"結束",children:(0,l.jsxs)(w.Tp,{condition:!z,children:[(0,l.jsx)("p",{children:d&&c()(d.content.enddatetime).format("YYYY-MM-DD HH:mm")}),(0,l.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,l.jsx)("input",{type:"date",className:"border-4 border-themeColor rounded-lg h-10 p-2",...T("eDate")}),(0,l.jsx)("input",{type:"time",className:"border-4 border-themeColor rounded-lg h-10 p-2",...T("eTime")})]})]})}),(0,l.jsxs)(w.Tp,{condition:(null==d?void 0:d.content.type)!="WEBSITE",children:[(0,l.jsx)(y.c6,{title:"地點",children:(0,l.jsxs)(w.Tp,{condition:!z,children:[null==d?void 0:d.content.location,(0,l.jsx)("input",{placeholder:"地點",className:"text-lg border-4 border-themeColor rounded-lg h-10 p-2",...T("location")})]})}),(0,l.jsx)(y.c6,{title:"鏈接",children:(0,l.jsxs)(w.Tp,{condition:!z,children:[d&&(0,l.jsx)("a",{href:d.content.link,target:"_blank",children:d.content.link}),(0,l.jsx)("input",{placeholder:"鏈接",className:"text-lg border-4 border-themeColor rounded-lg h-10 p-2",...T("link")})]})})]})]}),(0,l.jsx)(w.b0,{title:"簡介",condition:!d||"WEBSITE"!=d.content.type,children:(0,l.jsxs)(w.Tp,{condition:!z,children:[(0,l.jsx)("p",{className:"text-ellipsis overflow-hidden",children:d&&(null==d?void 0:d.content.introduction)}),(0,l.jsx)("textarea",{placeholder:"簡介",className:"text-lg block w-full border-4 border-themeColor rounded-lg p-2 resize-none min-h-32",rows:10,...T("introduction")})]})})]}),(0,l.jsxs)(w.b0,{title:"相關圖片",condition:d&&(d.content.relate_image_url.length>0||z),className:"mt-5",children:[(0,l.jsxs)("div",{children:[z&&(0,l.jsx)(_.o,{children:"現有圖片"}),(0,l.jsx)("div",{className:"grid grid-cols-4 gap-4 items-top justify-center mt-5",children:null==d?void 0:d.content.relate_image_url.map((e,t)=>(0,l.jsx)("img",{src:m.a0+e,className:"w-40 h-24 rounded-md hover:scale-[1.05] transition-all hover:cursor-pointer ".concat(S("del_relate_image")&&-1!=S("del_relate_image").indexOf(e)&&"opacity-70"),onClick:()=>{if(z){if(!S("del_relate_image")){A("del_relate_image",[e]);return}if(-1!=S("del_relate_image").indexOf(e)){let[e,...t]=S("del_relate_image");A("del_relate_image",t);return}A("del_relate_image",[...S("del_relate_image"),e])}}},t))})]}),(0,l.jsxs)(w.IF,{condition:z,children:[(0,l.jsx)(_.o,{children:"新增圖片"}),(0,l.jsx)(y.lS,{base:{regName:"add_relate_image",isRequired:!1,mode:"object",numLimit:5-(null==d?void 0:d.content.relate_image_url.length)+(S("del_relate_image")?S("del_relate_image").length:0)},register:T,imgList:S("add_relate_image"),setValue:A,errText:"圖片總數不能超過5張！",thisErr:null===(t=L.add_relate_image)||void 0===t?void 0:t.message})]})]}),(0,l.jsx)(b.S,{condition:z,children:(0,l.jsx)(b.b,{type:"submit",textContent:"上傳編輯",Icon:o.Z})}),(0,l.jsx)(j.Z,{})]})})]})}},2566:function(e,t,r){"use strict";var l=r(7294);let a=l.forwardRef(function({title:e,titleId:t,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),l.createElement("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"}))});t.Z=a}},function(e){e.O(0,[885,61,206,536,876,753,774,888,179],function(){return e(e.s=1186)}),_N_E=e.O()}]);