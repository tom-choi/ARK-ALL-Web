"use strict";exports.id=290,exports.ids=[290],exports.modules={3290:(e,r,t)=>{t.d(r,{c6:()=>ARKLabeledInput,lS:()=>ARKListImageInput,nS:()=>ARKTextInput,w7:()=>ARKImageInput});var l=t(997),s=t(6689),o=t.n(s),a=t(2132),i=t(5848),c=t(1338);let n={border:{focused:"border-opacity-100",blurred:"border-opacity-50"},label:{focused:"text-md opacity-100",blurred:"text-sm opacity-80"}},ARKTextInput=e=>{let{placeholder:r,type:t,isRequired:o}=e.base,{regName:i,thisErr:c,errText:d,register:u}=e,[m,h]=(0,s.useState)(n.border.blurred),[b,x]=(0,s.useState)(n.label.blurred),f=(0,s.useRef)();return(0,l.jsxs)("div",{children:[l.jsx("p",{className:`text-themeColor font-bold ${b} transition-all`,ref:f,children:r}),l.jsx("input",{className:`border-2 border-themeColor ${m} outline-none rounded-lg h-10 p-2`,placeholder:r,type:t||"text",...u(i,{required:!!o&&(d||"未正確輸入")}),onFocus:()=>{h(n.border.focused),x(n.label.focused)},onBlur:()=>{h(n.border.blurred),x(n.label.blurred)}}),l.jsx(a.IF,{condition:c,children:l.jsx("p",{className:"text-alert text-sm font-bold",children:d||"未正確輸入！"})})]})},ARKLabeledInput=e=>{let{title:r,condition:t}=e;return l.jsx(a.IF,{condition:t||void 0==t,children:(0,l.jsxs)("div",{className:"flex items-center mb-3 gap-3",children:[l.jsx("span",{className:"text-themeColor font-bold mr-5",children:e.title||"項目"}),e.children]})})},ARKImageInput=e=>{let{regName:r,isRequired:t,initialImgURL:c}=e.base,{register:n,setValue:d,errText:u,thisErr:m}=e,[h,b]=(0,s.useState)(void 0),[x,f]=(0,s.useState)(!0),p=o().createRef();return(0,l.jsxs)("div",{className:"flex flex-col w-96 h-96 items-center justify-center mx-auto bg-themeColorUltraLight dark:bg-gray-700 rounded-lg border-4 border-themeColor border-dashed min-h-24 hover:cursor-pointer hover:opacity-50 hover:scale-[1.02] transition-all",style:{backgroundImage:`url(${h||c})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},onClick:()=>p.current.click(),children:[l.jsx(a.IF,{condition:x&&!c,children:(0,l.jsxs)("div",{className:"flex flex-col justify-center",children:[l.jsx("div",{className:"flex items-center justify-center mb-2",children:l.jsx(i.Z,{className:"w-10 h-10 text-themeColor"})}),l.jsx("div",{children:l.jsx("h3",{className:"font-bold text-xl text-themeColor",children:"封面圖片"})})]})}),l.jsx("input",{type:"file",accept:"image/*",className:"hidden",...n(r,{required:!!t&&(u||"需要圖片")}),ref:p,onChange:e=>{let t=e.target.files[0];t&&(f(!1),b(URL.createObjectURL(t)),d(r,t))}})]})},ARKListImageInput=e=>{let{regName:r,isRequired:t,numLimit:a=4,mode:n="object"}=e.base,{register:d,imgList:u,setValue:m,errText:h,thisErr:b}=e,x=o().createRef(),[f,p]=(0,s.useState)(""),AddToObjList=(e,r,t,l,s)=>{let o=e.target.files,a=o.length,i=t?Object.keys(t).length:0;if(a>l||a+i>l){alert(h||`圖片不能超過${l}張！`);return}let n=[];t&&Object.keys(t).map(e=>{n.push(t[e])}),Object.entries(o).map(([e,r])=>{let t=(0,c.Ag)(r);n.push(t)});let d=Object.fromEntries(Array.from(n,(e,r)=>[r,e]));s(r,d)},AddToArrayList=(e,r,t,l,s)=>{let o=e.target.files,a=o.length,i=t?t.length:0;if(a>l||a+i>l){alert(`圖片不能超過${l}張`);return}if(!t){s(r,o);return}s(r,t.length>1?[...t,...Array.from(o)]:[t[0],...Array.from(o)])};return l.jsx("div",{className:"flex flex-row items-center justify-left",children:(0,l.jsxs)("div",{className:`lg:grid md:flex md:flex-col grid-cols-${a} gap-4 object-cover`,children:[u&&Object.entries(u).map(([e,t])=>(0,l.jsxs)("div",{className:"relative",children:[l.jsx("div",{className:`absolute -top-12 left-[2rem] opacity-${f!=e?"0":"100"} transition-all bg-white drop-shadow-lg border border-[2.5px] border-themeColorLight rounded-full px-2 py-1`,children:"點擊以刪除"}),l.jsx("img",{src:URL.createObjectURL(t),className:"w-40 h-24 rounded-md hover:scale-[1.05] transition-all hover:cursor-pointer",onMouseOver:r=>{p(e)},onMouseLeave:e=>{p("")},onClick:t=>{m(r,Object.fromEntries(Object.entries(u).filter(([r,t])=>r!=e)))}})]})),(0,l.jsxs)("div",{className:"flex flex-col w-40 h-24 items-center justify-center bg-themeColorUltraLight dark:bg-gray-700 rounded-lg border-4 border-themeColor border-dashed min-h-24 hover:cursor-pointer hover:opacity-50 hover:scale-[1.02] transition-all",onClick:()=>x.current.click(),children:[l.jsx("div",{className:"flex items-center justify-center mb-2",children:l.jsx(i.Z,{className:"w-10 h-10 text-themeColor"})}),l.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",...d(r,{required:!!t&&(h||"需要圖片")}),ref:x,onChange:e=>{switch(n){case"object":console.log("Using Object Mode."),AddToObjList(e,r,u,a,m);break;case"array":console.log("Using Array Mode."),AddToArrayList(e,r,u,a,m)}}})]})]})})}}};